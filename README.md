statgit
=======

_statgit_ is a PHP script to generate Git development statistics,
similar to the statistics generated by [StatSVN](http://www.statsvn.org/).

_statgit_ uses [cloc](http://cloc.sourceforge.net/) to obtain lines of code, and this needs to
be installed.

_Note:_ This is under development, there is lots of data and statistics being collected and more reports
will be generated soon.

## Installing

1. Install php and [cloc](http://cloc.sourceforge.net/)
1. Clone _statgit_
1. Execute `composer install` in your statgit directory to generate the `vendor/autoload.php` file
1. Clone your target Git repository to a working directory, that statgit will interact with directly
1. Execute _statgit_ and wait

```
php -f statgit/statgit.php ~/openclerk --output ~/openclerk-stats/
```

_statgit_ will pull the latest Git origin/master to the working directory (in this case, `~/openclerk`),
and then individually check out each commit and execute `cloc` to generate file statistics.

After each commit check out has successfully completed, the _statgit_ database is automatically saved
(by default to `<working_dir>/database.json`). The _statgit_ process can be cancelled at any time and
resumed later. This also makes it much faster on subsequent startups.

_statgit_ handles force pushes as well; it only considers the commits referenced in the latest `git log`
when generating statistics.

## Command line options

* `--output [dir]`
* `--database [file.json]`
* `--last [n]` - only parse last _n_ commits
* `--skip_git`
* `--debug`
* `--timezone [s]` - use _s_ as the timezone, defaults to "UTC"

## Ideas

* For large code bases: use `--last` to restrict the number of commits.
* For generating specs of just your specs, for example: use `<project>/spec` instead of `<project>`
* For removing directories before running any specs: use `--without dir1 --without dir2`

## Examples

* [Openclerk](http://openclerk.org/statgit/)
